# Twice-Thinking Skill 测试示例

## 示例1：创建应用需求

### 用户输入
```
开发一个应用
```

### Skill 分析（阶段1）

```
【需求分析】
- 意图：创建
- 模糊点："一个应用"太笼统
- 需要追问维度：目标/场景/功能/技术/用户

【初始追问】
1. 这个应用主要解决什么问题？是提高效率还是解决具体痛点？
2. 目标用户是谁？是企业用户还是个人用户？
3. 你期望这是个 Web 应用、桌面应用还是移动应用？
```

### 用户回答（阶段1）

```
做一个效率工具，给团队用的，桌面应用
```

### Skill 追问（阶段2）

```
【记录】已回答：桌面应用、团队用、效率工具

【追问跟进】
4. 团队大概有多少人？
5. 主要的使用场景是什么？比如项目管理、文档协作还是其他？
6. 你有哪些特别的需求吗？比如数据同步、离线使用、权限管理？
```

### 用户回答（阶段2）

```
5-10人，主要是项目管理和文档协作。需要数据同步，不需要权限管理太复杂
```

### Skill 追问（阶段3）

```
【记录】已回答：5-10人、项目管理和文档协作、数据同步

【追问跟进】
7. 期望支持什么文件格式？需要和哪些现有系统集成？
8. 界面风格有什么偏好吗？现代简约还是传统丰富？
```

### 用户回答（阶段3）

```
支持常见的 Office 格式，和公司现有的 SharePoint 集成
```

### Skill 总结（阶段4）

```
【7个维度已覆盖，生成需求总结】

# 效率工具应用 需求文档

## 1. 基本信息
- 需求类型: 创建
- 迭代次数: 3
- 澄清日期: 2025-02-15

## 2. 原始需求
> 开发一个团队用的效率工具，桌面应用

## 3. 需求理解
### 3.1 主要目标
帮助5-10人的团队提高项目管理效率，支持文档协作和数据同步。

### 3.2 目标用户
- 用户角色: 企业团队（5-10人）
- 预期规模: 小型团队，日常使用
- 使用频率: 每天多次，高频使用

### 3.3 功能范围
#### 必须实现
- 项目任务管理（创建、分配、跟踪）
- 文档协作（创建、编辑、共享）
- 数据同步（Office格式）
- SharePoint集成

#### 可选功能
- 实时协作
- 离线模式
- 版本历史

#### 明确不做的
- 复杂权限管理
- 多级审批流程

### 3.4 技术要求
- 技术栈: 桌面应用
- 集成要求: SharePoint API
- 数据格式: Office格式
- 环境要求: Windows/Mac

### 3.5 用户体验
- 界面风格: 现代简约
- 操作流程: 直观简洁
- 性能要求: 响应快速
- 兼容性: Office文档格式兼容

### 3.6 边界条件
- 性能指标: 支持小团队并发操作
- 安全考虑: 企业数据安全
- 扩展性: 预留API接口
- 合规性: 企业数据管理合规

### 3.7 成功标准
- 功能完整性: 支持基础的CRUD操作
- 用户体验指标: 用户能在5分钟内完成常见操作
- 性能标准: 文档打开<3秒，同步延迟<5秒
- 测试要求: 功能测试、性能测试、兼容性测试

## 4. 已澄清的关键点
- 目标确认: 提高团队效率，项目管理和文档协作
- 使用场景: 5-10人团队，日常协作
- 功能范围: 任务管理、文档协作、数据同步
- 技术细节: 桌面应用，Office格式，SharePoint集成
- 用户体验: 现代简约，响应快速
- 边界条件: 小团队并发，企业安全
- 成功标准: 基础CRUD，性能要求

## 5. 对话历史
### 迭代1
- 问题: 这个应用主要解决什么问题？是提高效率还是解决具体痛点？
- 回答: 提高团队效率，主要是项目管理

### 迭代2
- 问题: 目标用户是谁？有多少人？
- 回答: 5-10人，企业团队

### 迭代3
- 问题: 团队大概有多少人？
- 回答: 5-10人，主要是项目管理和文档协作。需要数据同步，不需要权限管理太复杂

## 6. 下一步建议
基于以上澄清，建议：
1. 开始需求文档细化
2. 进行技术方案设计
3. 开始开发实现
```

---

## 示例2：修改功能需求

### 用户输入
```
优化一下登录功能
```

### Skill 分析

```
【需求分析】
- 意图：修改
- 模糊点："优化一下"太笼统
- 需要追问维度：目标/功能/技术/性能

【初始追问】
1. 当前的登录功能具体有什么问题？是性能慢、体验差还是安全漏洞？
2. 这个问题优先级如何？是P0必须立即修复，还是P1/P2？
3. 优化范围是前端体验还是后端性能？
```

### 用户回答

```
主要是性能问题，登录有时候要5秒才完成，用户抱怨。优先级P1，前端和后端都要看
```

### Skill 追问

```
【记录】已回答：性能问题，5秒登录，P1优先级，前后端优化

【追问跟进】
4. 是否考虑过异步加载？用户等待时是否给反馈？
5. 缓存策略是什么？有没有本地缓存？
6. 后端接口的响应时间要求是多少？
```

### 用户回答

```
缓存没做，后端接口希望<500ms
```

### Skill 总结

```
【需求总结】

# 登录功能优化需求文档

## 1. 基本信息
- 需求类型: 修改
- 迭代次数: 2
- 澄清日期: 2025-02-15

## 2. 原始需求
> 优化一下登录功能

## 3. 需求理解
### 3.1 主要目标
解决登录性能问题，提升用户体验。

### 3.2 功能范围
#### 必须实现
- 异步加载，用户等待时显示加载动画
- 本地缓存，缓存用户凭证和会话信息
- 后端接口响应时间优化到500ms内
- 前端加载优化，减少初始包大小

#### 可选功能
- 指纹登录
- 记住密码
- 社交登录

### 3.3 技术要求
- 缓存策略：localStorage + 服务端缓存
- 性能目标：接口<500ms
- 异步加载：Promise/async-await

## 4. 已澄清的关键点
- 目标确认: 解决性能问题，P1优先级
- 功能范围: 前后端优化，缓存，异步加载
- 技术细节: 响应时间<500ms，无缓存需添加

## 5. 对话历史
### 迭代1
- 问题: 当前的登录功能具体有什么问题？
- 回答: 性能问题，5秒登录，P1优先级，前后端优化

### 迭代2
- 问题: 缓存策略是什么？
- 回答: 没做，后端接口希望<500ms

## 6. 下一步建议
1. 设计缓存方案
2. 实现异步加载
3. 性能测试和优化
```

---

## 示例3：集成第三方服务

### 用户输入
```
接一下OpenAI的API
```

### Skill 分析

```
【需求分析】
- 意图：集成
- 模糊点："接一下"太笼统
- 需要追问维度：场景/功能/数据/错误处理

【初始追问】
1. 这个API具体要实现什么功能？是聊天、文生图还是其他？
2. 数据会传给OpenAI吗？如何保证隐私安全？
3. 如果调用失败，应用应该如何处理？
```

### Skill 追问

```
【记录】已回答：聊天功能，数据不传，失败要有降级方案

【追问跟进】
4. 预期的并发量是多少？QPS峰值？
5. 成本预算多少？每月最多花多少钱？
6. 是否需要流式输出？
```

### 用户回答

```
预期10并发，成本预算每月$100，需要流式输出
```

### Skill 总结

```
【需求总结】

# OpenAI API 集成需求文档

## 3. 功能范围
- 聊天功能
- 流式输出
- 并发控制
- 错误处理
- 成本监控

## 3.4 技术要求
- API: OpenAI Chat API
- 流式: SSE
- 并发: 最大10并发
- 成本: 每月$100预算

## 3.6 边界条件
- 隐私保护: 不传用户数据
- 错误处理: API失败降级
- 成本控制: 超预算停止调用
```

---

## 测试检查点

### 需求澄清度
- [ ] 是否识别了正确的需求类型？
- [ ] 是否检测到了模糊点？
- [ ] 是否选择了合适的追问维度？
- [ ] 初始问题是否在3-5个之间？
- [ ] 是否追问了7个核心维度？

### 追问质量
- [ ] 每次问题是否1-2个？
- [ ] 问题是否具体有针对性？
- [ ] 是否避免了用户回答"随便"？
- [ ] 是否记录了用户回答？

### 总结质量
- [ ] 是否生成了结构化的需求文档？
- [ ] 是否包含了所有已澄清的信息？
- [ ] 是否提供了下一步建议？
- [ ] 对话历史是否完整记录？

### 用户体验
- [ ] 迭代次数是否合理（<10轮）？
- [ ] 是否有明确的完成时机？
- [ ] 用户是否有机会主动停止追问？
